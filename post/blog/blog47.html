<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.40.1" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>王奕龙的个人网站中的post->blog</title>

    
    <link href="/css/nucleus.css?1557742112" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1557742112" rel="stylesheet">
    <link href="/css/hybrid.css?1557742112" rel="stylesheet">
    <link href="/css/featherlight.min.css?1557742112" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1557742112" rel="stylesheet">
    <link href="/css/auto-complete.css?1557742112" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1557742112" rel="stylesheet">
    <link href="/css/theme.css?1557742112" rel="stylesheet">
    <link href="/css/hugo-theme.css?1557742112" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1557742112"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/post/blog/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://wangYLML1118.github.io/">
  <!--<svg id="grav-logo" style="width:100%; height:100%;" viewBox="0 0 504 140" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
    <path d="M235.832,71.564l-7.98,-0.001c-1.213,0.001 -2.197,0.987 -2.197,2.204l0,15.327l-0.158,0.132c-4.696,3.962 -10.634,6.14 -16.719,6.14c-14.356,0 -26.034,-11.68 -26.034,-26.037c0,-14.358 11.678,-26.035 26.034,-26.035c5.582,0 10.919,1.767 15.437,5.113c0.877,0.649 2.093,0.56 2.866,-0.211l5.69,-5.69c0.444,-0.442 0.675,-1.055 0.639,-1.681c-0.034,-0.627 -0.336,-1.206 -0.828,-1.597c-6.76,-5.363 -15.214,-8.314 -23.805,-8.314c-21.18,0 -38.414,17.233 -38.414,38.415c0,21.183 17.234,38.415 38.414,38.415c10.937,0 21.397,-4.705 28.698,-12.914c0.358,-0.403 0.556,-0.921 0.556,-1.46l0,-19.603c0,-1.217 -0.985,-2.203 -2.2,-2.203"
      style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M502.794,34.445c-0.408,-0.616 -1.1,-0.989 -1.838,-0.989l-8.684,0c-0.879,0 -1.673,0.522 -2.022,1.329l-24.483,56.839l-24.92,-56.852c-0.352,-0.799 -1.142,-1.316 -2.012,-1.316l-8.713,0c-0.744,0 -1.44,0.373 -1.843,0.995c-0.408,0.623 -0.476,1.408 -0.174,2.09l30.186,68.858c0.352,0.799 1.143,1.317 2.017,1.317l10.992,0c0.879,0 1.673,-0.527 2.021,-1.329l29.655,-68.861c0.289,-0.68 0.222,-1.461 -0.182,-2.081"
      style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M388.683,34.772c-0.353,-0.798 -1.142,-1.316 -2.017,-1.316l-10.988,0c-0.879,0 -1.673,0.522 -2.021,1.329l-29.655,68.861c-0.294,0.675 -0.226,1.46 0.182,2.077c0.407,0.619 1.096,0.993 1.838,0.993l8.684,0c0.879,0 1.673,-0.526 2.022,-1.329l24.478,-56.842l24.92,56.854c0.353,0.798 1.143,1.317 2.013,1.317l8.717,0c0.744,0 1.44,-0.374 1.843,-0.993c0.408,-0.624 0.471,-1.41 0.174,-2.094l-30.19,-68.857Z"
      style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M309.196,81.525l0.476,-0.229c8.675,-4.191 14.279,-13.087 14.279,-22.667c0,-13.881 -11.295,-25.174 -25.176,-25.174l-31.863,0c-1.214,0 -2.199,0.988 -2.199,2.202l0,68.855c0,1.219 0.985,2.204 2.199,2.204l7.979,0c1.214,0 2.2,-0.985 2.2,-2.204l0,-58.679l21.684,0c7.059,0 12.799,5.739 12.799,12.796c0,5.885 -3.996,10.989 -9.728,12.408c-1.032,0.261 -2.064,0.393 -3.071,0.393l-7.977,0c-0.829,0 -1.585,0.467 -1.959,1.205c-0.378,0.74 -0.305,1.625 0.187,2.296l22.62,30.884c0.412,0.566 1.07,0.901 1.771,0.901l9.915,0c0.827,0 1.587,-0.467 1.96,-1.207c0.378,-0.742 0.302,-1.629 -0.186,-2.296l-15.91,-21.688Z"
      style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M107.191,80.969c-7.255,-4.794 -11.4,-8.845 -15.011,-16.109c-2.47,4.977 -8.236,12.376 -17.962,18.198c-4.856,15.106 -27.954,44.015 -35.43,39.916c-2.213,-1.212 -2.633,-2.808 -2.133,-4.456c0.536,-4.129 9.078,-13.62 9.078,-13.62c0,0 0.18,1.992 2.913,6.187c-3.609,-11.205 5.965,-25.031 8.5,-29.738c3.985,-1.269 4.274,-6.387 4.274,-6.387c0.255,-7.909 -3.278,-13.635 -6.701,-17.059c2.459,3.002 3.255,7.539 3.372,11.694l0,0.023c0.012,0.469 0.012,0.93 0.011,1.39c-0.117,3.439 -1.157,8.19 -3.383,8.19l0.006,0.03c-2.289,-0.098 -5.115,0.391 -7.639,1.18l-5.582,1.334c0,0 2.977,-0.136 4.584,1.252c-1.79,2.915 -5.769,6.533 -10.206,8.588c-6.457,2.995 -8.312,-2.964 -5.034,-6.838c0.805,-0.946 1.618,-1.745 2.387,-2.399c-0.495,-0.513 -0.807,-1.198 -0.889,-2.068c-0.001,-0.005 -0.004,-0.009 -0.005,-0.013c-0.45,-1.977 -0.202,-4.543 2.596,-8.623c0.551,-0.863 1.214,-1.748 2.007,-2.647c0.025,-0.031 0.046,-0.059 0.072,-0.089c0.034,-0.042 0.072,-0.08 0.108,-0.121c0.02,-0.023 0.039,-0.045 0.059,-0.068c0.2,-0.228 0.413,-0.45 0.639,-0.663c3.334,-3.414 8.599,-6.966 16.897,-10.152c9.675,-14.223 13.219,-16.89 13.219,-16.89c1.071,-1.096 2.943,-2.458 3.632,-2.805c-5.053,-8.781 -6.074,-21.158 -4.75,-24.493c-0.107,0.18 -0.206,0.365 -0.287,0.556c0.49,-1.143 0.819,-1.509 1.328,-2.111c1.381,-1.632 6.058,-2.488 7.737,0.971c0.895,1.844 1.063,4.232 1.034,6.023c-3.704,-0.193 -7.063,4.036 -7.063,4.036c0,0 3.067,-1.448 6.879,-1.473c0,0 1.015,0.883 2.283,2.542c-1.712,3.213 -4.524,10.021 -2.488,17.168c0.338,1.408 0.849,2.619 1.483,3.648c0.024,0.045 0.044,0.089 0.069,0.135c0.051,0.066 0.096,0.122 0.144,0.183c3.368,5.072 9.542,5.665 9.542,5.665c-2.906,-1.45 -5.274,-3.76 -6.816,-6.56c-0.8,-1.498 -1.291,-2.762 -1.592,-3.761c-1.636,-6.313 0.771,-9.999 2.149,-12.471c3.17,-4.917 8.944,-7.893 15.151,-7.185c8.712,0.995 14.968,8.862 13.973,17.571c-0.608,5.321 -3.781,9.723 -8.142,12.117c1.049,2.839 -0.073,6.28 -0.073,6.28c2.642,3.323 2.758,5.238 2.667,7.017c-3.357,-0.565 -6.618,1.701 -6.618,1.701c0,0 6.476,-1.546 10.238,1.81c2.446,2.631 4.078,5.009 5.051,6.766c1.393,2.505 7.859,2.683 7.123,7.188c-0.737,4.499 -5.669,4.542 -13.401,-0.56M69.571,0c-38.424,0 -69.571,31.148 -69.571,69.567c0,38.422 31.147,69.573 69.571,69.573c38.42,0 69.568,-31.151 69.568,-69.573c0,-38.42 -31.148,-69.567 -69.568,-69.567"
      style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M73.796,51.693c0.813,-0.814 0.813,-2.134 0,-2.947c-0.815,-0.814 -2.133,-0.814 -2.947,0c-0.815,0.813 -0.815,2.133 0,2.947c0.814,0.813 2.132,0.813 2.947,0" style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M66.445,53.149c-0.814,0.813 -0.814,2.133 0,2.947c0.813,0.814 2.133,0.814 2.947,0c0.813,-0.814 0.813,-2.134 0,-2.947c-0.814,-0.813 -2.134,-0.813 -2.947,0" style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M79.231,54.233c-1.274,-1.274 -3.339,-1.272 -4.611,0l-2.713,2.712c-1.274,1.275 -1.274,3.339 0,4.612l2.978,2.978c1.274,1.275 3.338,1.274 4.611,0l2.712,-2.712c1.274,-1.274 1.274,-3.339 0,-4.612l-2.977,-2.978Z" style="fill:#000;fill-rule:nonzero;"></path>
    <path d="M95.759,41.445c-2.151,-2.578 1.869,-7.257 4.391,-4.463c4.645,5.148 -2.237,7.041 -4.391,4.463M105.004,44.132c3.442,-6.553 -1.427,-10.381 -4.773,-13.523c-5.36,-5.039 -10.706,-7.217 -16.811,-0.241c-6.102,6.977 -2.226,15.068 3.356,19.061c5.584,3.994 14.782,1.255 18.228,-5.297"
      style="fill:#000;fill-rule:nonzero;"></path>
  </svg>-->
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1557742112"></script>
<script type="text/javascript" src="/js/auto-complete.js?1557742112"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/wangYLML1118.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1557742112"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/post/" title="Posts" class="dd-item 
        parent
        
        
        ">
      <a href="/post/">
          Posts
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/post/blog/" title="Blog" class="dd-item active">
        <a href="/post/blog/">
        Blog
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>This website was built by Wang Yilong at 2019-5-10</p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>My Site</a> > <a href='/post/'>My Posts</a> ><a href='/post/blog/index.html'>My Blog</a>>存储技术
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Blog
            </h1>
          

        
<h1>存储技术</h1>

<ul><li>计算机技术的成功很大程度上源自于存储技术的巨大进步。早期的计算机只有几千字节的随机访问存储器。最早的IBM　ＰＣ甚至于没有硬盘，１９８２年引入的ＩＢＭ　ＰＣ－ＸＴ有１０Ｍ字节的磁盘，到２０１５年，典型的计算机已有３０００００倍于ＰＣ－ＸＴ的磁盘存储，而且磁盘的容量以每两年加倍的速度增长。</li></ul>

<h2>随机访问存储器</h2>

<ul><li>随机访问存储器（ＲＡＭ）分为两类：静态的和动态的。静态ＲＡＭ（ＳＲＡＭ）比动态ＲＡＭ（ＤＲＡＭ）更快，但也贵得多。ＳＲＡＭ用来作为高速缓存存储器，既可以在ＣＰＵ芯片上，也可以在片下。ＤＲＡＭ用来作为驻村以及图形系统的帧缓冲区，典型地，一个桌面系统的ＳＲＡＭ不会超过几兆字节，但是ＤＲＡＭ却有几百或几千兆字节。</li></ul>

<h4>静态ＲＡＭ</h4>

<ul><li>ＳＲＡＭ将每个位存储在一个双稳态的存储器单元例。每个单元是用一个六晶体管电路来实现的。这个电路有这样一个属性，它可以无限期地保持在两个不同的电压配置或状态之一。其他任何和状态都是不稳定的——从不稳定状态开始，电路会迅速地转移到两个稳定状态中的一个。这样一个存储器单元类似于图中的倒转的钟摆。
<img alt="倒转的钟摆.png" src="倒转的钟摆.png"/></li><li>当钟摆倾斜到最左边或最右边是，它是稳定的。从其他任何位置，钟摆都会倒向一边或者另一边。原则上，钟摆也能在垂直的位置无限期地保持平衡，但是这个状态是亚稳定的——最细微的扰动也能使他倒下，而且一旦倒下就永远不会再恢复到垂直的位置。由于ＳＲＡＭ存储器单元的双稳定性，只要有点，他就会永远保持它的值。即使有干扰（例如电子噪音）来扰乱电压，当干扰消除时，电路就会恢复到稳定值。</li></ul>

<h4>动态ＲＡＭ</h4>

<ul><li>ＲＡＭ将每个位存储位对一个电容的充电。这个电容非常小，通常只有大约３０毫微微法拉——30*10^-15法拉。不过，法拉是一个非常大的计量单位。ＤＲＡＭ存储器可以制造地非常秘籍——每个单元有一个电容和一个访问晶体管组成。但是，与ＳＲＡＭ不同，ＤＲＡＭ存储器单元对干扰非常敏感。当电容的电压被扰乱之后，它就永远不会恢复了。暴露在光线下会导致电容电压改变，实际上，数码照相机和摄像机中的传感器本质上就是ＤＲＡＭ单元的阵列。</li><li>很多原因会导致漏电，使得ＤＲＡＭ单元在１０~1００毫秒时间内失去电荷。幸运的是，计算机运行的时钟周期是以纳秒来衡量的，所以相对而言这个保持时间是比较长的。内存系统必须周期性的独处，然后重写来刷新内存每一位。有些系统也使用纠错码，其中计算机的字会被多编码几个位（例如６４位的字可能用７２位来编码），这样一来，电路可以发现并纠正一个自重任何单个的错误位。</li><li>图中总结了ＳＲＡＭ和ＤＲＡＭ存储器的特性。只要有供电，ＳＲＡＭ就会保持不变。与ＤＲＡＭ不同，它不需要刷新。ＳＲＡＭ的存取比ＤＲＡｍ更快。ＳＲＡＭ对诸如光和电噪声这样的干扰不敏感。代价是ＳＲＡＭ单元比ＤＲＡＭ单元使用更多地晶体管，因而密集度更低，而且更贵，功耗更大。
<img alt="两种存储器的特性.png" src="两种存储器的特性.png"/></li></ul>

<h4>传统的ＤＲＡＭ</h4>

<ul><li>ＤＲＡＭ芯片中的单元（位）被分为d个超单元，每个超单元都由ｗ个ＤＲＡＭ单元组成。一个ｄ*w的ＤＲＡＭ总共存储了ｄｗ位信息。超单元被组织称一个ｒ行ｃ列的长方形阵列，这里ｒｃ＝ｄ每个超单元有刑辱（ｉ,j）的地址，ｉ表示行，ｊ表示列。
<img alt="DRAM芯片.png" src="DRAM芯片.png"/></li><li>每个ＤＲＡＡＭ芯片被连接到某个成为内存控制器的电路，这个电路可以一次传送ｗ位到每个ＤＲＡＭ芯片或一次从每个ＤＲＡＭ芯片传出ｗ为。为了独处超单元（ｉ,j）的内容，内存控制器将行地址ｉ发送到ＤＲＡｍ，然后是列地址ｊ。ＤＲＡＭ把超单元（ｉ，ｊ）的内容发回给控制器作为相应。行地址ｉ成为ＲＡＳ(行访问选通脉冲)请求。列地址ｊ成为ＣＡＳ(列访问选通脉冲)请求。注意，ＲＡＳ和ＣＡＳ请求共享相同的ＤＥＡＭ地址引脚。</li><li>电路设计者将ＤＲＡＭ组织成二位阵列而不是线性数组的一个原因是降低芯片上地址引脚的数量。例如，如果市里的１２８位ＤＲＡＭ被组织成一个１６个超单元的线性数组，地址为0～15,那么芯片会需要４个地址引脚而不是２个。二位阵列组织的缺点是必须分两步发送地址，这增加了访问时间。</li></ul>

<h4>内存模块</h4>

<ul><li>ＤＲＡＭ芯片封装在内存模块中，它插到主板的扩展槽上。core i7系统使用的２４０个引脚的双列直插内存模块，它以６４位为块传送数据到内存控制器和从内存控制器传出数据。图６－５展示了一个内存模块的基本思想，实力模块用８个６４Ｍｂｉｔ的８Ｍ×８的ＤＲＡＭ芯片，总共存储６４ＭＢ，这８个芯片编号为０～７，每个超单元存储贮存的一个字节，而用相应超单元地址为（ｉ，ｊ）的８个超单元来表示主存中字节地址Ａ处的６４位字。ＤＲＡＭ０９存储第一个（低位）字节，以此类推。</li><li>要去除内存地址Ａ处的一个字，内存控制器将Ａ转换成一个超单元地址（i,j），并将它发送到内存模块，然后内存模块再将ｉ和ｊ光波导每个ＤＲＡＭ。作为相应，每个ＤＲＡＭ输出它的（ｉ，ｊ）超单元的８位内容。模块中的电路手机这些输出，并将他们合并成一个６４位字，再返回给内存控制器。</li><li>通过将多个内存模块连接到内存控制器，能够聚合成主存。在这种情况下，当控制器收到一个地址Ａ是，控制器选择包含Ａ的模块ｋ，将Ａ转换成它的（ｉ，ｊ）的形式，并将（ｉ，ｊ）发送到模块ｋ。
<img alt="内存模块.png" src="内存模块.png"/></li></ul>

<h4>增强的ＤＲＡＭ</h4>

<ul><li>有许多中ＤＲＡＭ存储器，而生产厂商试图跟上迅速增长的处理器速度，市场上就会定期退出新的种类。每种都是基于传统的ＤＲＡＭ单元，并进行一些优化，提高访问基本ＤＲＡＭ单元的速度。<ul><li>快页模式ＤＲＡＭ(ＦＰＭ　DRAM)。传统的ＤＲＡＭ将超单元的一整行复制到它的内部行缓冲区中，使用一个，然后丢弃剩余的。ＦＰＭ　ＤＲＡＭ允许对同一行连续地访问可以直接从航缓冲区得到服务，从而改进了这一点。例如，要从一个传统的ＤＲＡＭ行ｉ中读４个超单元，内存控制器必须发送４个ＲＡＳ/ＣＡＳ请求，即使是行地址ｉ在每个情况中都是一样的。要从一个ＦＰＭ　ＤＲＡＭ的同一行中读取超单元，内存控制器发送第一个ＲＡＳ/ＣＡＳ请求将行ｉ赋值到行缓冲区中获得，因此返回得比初始的超单元更快。</li><li>扩展数据输出ＤＲＡＭ。ＦＰＭ　ＤＲＡＭ的一个增强的形式，它允许各个ＣＡＳ信号在时间上靠的更紧密一点。</li><li>同步ＤＲＡＭ。就他们与内存控制器通信使用一组显式的控制信号来说，常规的、ＦＰＭ和ＥＤＯ　ＤＲＡＭ都是异步的。ＳＲＡＭ用于驱动内存控制器相同的外部时钟信号的上升沿来代替许多这样的控制信号。我们不会深入讨论细节，最终效果就是ＳＤＲＡＭ能够比那些异步的存储器更快地存储它的超单元内容。</li><li>双倍数据速率同步（ＤＤＲ　ＳＤＲＡＭ）。DDR SDRAM是对ＳＤＲＡＭ的一种增强，他通过使用两个时钟沿作为控制信号，从而使ＤＲＡＭ的速度翻倍。不同类型的ＤＤＲ　ＳＤＲＡＭ使用提高有效带宽的很小的预取缓冲区的大小来划分的：ＤＤＲ（２位）、ＤＤＲ２（４位）、ＤＤＲ（８位）。</li><li>视频ＲＡＭ（ＶＲＡＭ）。它用在图形系统的帧缓冲区中。ＶＲＡＭ的思想与ＦＰＭ　ＤＲＡＭ类似。两个主要区别是：１、ＶＲＡＭ的输出是通过一次对内部缓冲区的整个内容进行以为得到的；２、ＶＲＡＭ允许堆内存并行地读和写。因此，系统可以再写下一次更新的新值的同事，用帧缓冲区中的像素刷屏幕（读）。</li></ul></li></ul>

<h4>非易失性存储器</h4>

<ul><li>如果断电，ＤＲＡＭ和ＳＲＡＭ会丢失他们的信息，从这个意义上来说，他们是易失的。另一方面，非遗实行存储器。由于历史原因，虽然ＲＯＭ中有的类型即可以读也可以写，但是他们整体上都被称为只读存储器。ＲＯＭ是以他们能够被重新编程（写）的次数和对他们进行重编程所用的机制来区分的。</li><li>ＰＲＯＭ可编程ＲＯＭ只能被编程一次。ＰＲＯＭ的每个存储器单元有一种熔丝，只能用高电流熔断一次。</li><li>可擦写可编程ＲＯＭ(ＥＰＲＯＭ)有一个透明的适应窗口，允许光到达存储单元。紫外线光照射过窗口，ＥＰＲＯＭ单元就被消除为０。对ＥＰＲＯＭ编程是通过使用一种把１写入EPROM的特殊设备完成的。ＥＰＲＯＭ能够被擦出和重编程的次数的数量级可以达到１０００多次。电子擦除ＰＲＯＭ(EEPROM)类似于EPROM，但是，他不需要物理上的独立的变成设备，因此可以直接在印制电路卡上编程。ＥＥＰＲＯＭ能够被编程的次数的数量级可以达到１０^5次。</li><li>闪存是一类非遗实行存储器，基于ＥＥＰＲＯＭ，他已经成为了一种重要的存储基数。闪存无处不在，为大量的电子设备提供快速而持久的非遗实行存储，包括数码相机、手机、音乐播放器、ＰＤＡ和笔记本、台式机和服务器计算机系统。</li><li>存储在ＲＯＭ设备中的程序通常被称为固件。当一个计算机系统通电后，它会运行存储在ＲＯＭ中的古剑。一些系统在固件中提供了少量基本的输入和输出函数——例如ＰＣ的ＢＩＯＳ例程，复杂的设备，像图形卡和磁盘驱动控制器，也依赖固件翻译来自ＣＰＵ的I/O请求。</li></ul>

<h4>访问主存</h4>

<ul><li>数据流通过成为总线的共享电子电路在处理器和ＤＲＡＭ主存之间来来回回。每次ＣＰＵ和驻村之间的数据传送都是通过一系列步骤来完成的，这些步骤成为总线事务。读事务从主存传送数据到ＣＰＵ。些食物从ＣＰＵ传送数据到主存。</li><li>总线是一组并行的导线，能携带地址、数据和控制信号。取决于总线的设计、数据和地址信号可以共享同一组导线，也可以使用不同的。同事，两个以上的设备也能共享同一中修改呢。控制线携带的信号会同步不失误，并表示出当前正在被执行的事物的类型。例如，当前关注的这个事物是到主存的吗？还是到诸如磁盘控制器这样的其他Ｉ/O设备？这个事务是读还是写？总线上的信息是地址还是数据项？</li><li>图中展示了一个实力计算机系统的配置。主要部件是ＣＰＵ芯片、我们将称为Ｉ/Ｏ桥接器的芯片组（其中包括内存控制器），以及组成贮存的ＤＲＡＭ内存模块。这些部件有一堆总线连接起来，其中一条总线是系统总线，它连接ＣＰＵ和Ｉ/Ｏ桥接器，另一条总线是内存总线，它连接Ｉ/Ｏ桥接器和主存。Ｉ/Ｏ桥接器将系统总线的电子信号翻译成内存总线的电子信号。正如我们看到的那样，Ｉ/Ｏ桥也将系统总线和内存总线连接到Ｉ/Ｏ总线，像磁盘和图形卡这样的Ｉ/Ｏ设备这样的Ｉ/Ｏ设备共享Ｉ/Ｏ总线。不过现在，我们将注意力集中在内存总线上。
<img alt="连接CPU和主存的总线.png" src="连接CPU和主存的总线.png"/></li></ul>

<h2>磁盘存储</h2>

<ul><li>磁盘是广为应用的保存大量数据的存储设备，存储数据的数量级可以达到几百到几千千兆字节，而基于ＲＡＭ的存储器只能有几百或几千兆字节。不过，从磁盘上读信息的时间为毫秒级，也比ＤＲＡＭ堵满了１０万倍，比从ＳＲＡＭ读慢了１００万倍。</li></ul>

<h4>磁盘构造</h4>

<ul><li>磁盘是由盘片构成的。每个盘片有两面或者成为表面，表面覆盖着磁性记录材料。盘片中央有一个可以旋转的主轴，它使得盘片以固定的旋转速率旋转，通常是５４００～１５０００转每分钟（ＲＰＭ）。磁盘通常包含一个或多个这样的盘片，并封装在一个密封的容器内。</li><li>途中展示了一个典型的磁盘表面结构，每个表面是由一组称为磁道的同心圆组成的。每个磁道被划分为一组扇区。每个扇区包含相等数量的数据位，这些数据编码在扇区上的磁性材料中。扇区之间由一些间隙分割开，这些间隙中不存储数据位。间隙存储用来标示扇区的格式化位。</li><li>磁盘是由一个或多个叠放在一起的盘片组成的。他们被封装在一个密封的包装里面，整个装置通常被称为驱动器。我们通常简称为磁盘。有时，我们会称磁盘为旋转磁盘，以使之区别于基于闪存的固态硬盘(SSD),SSD是没有移动部分的。</li><li>磁盘制造商通常用术语柱面来描述多个盘片驱动器的构造，这里，柱面是所有盘片表面上到主轴中心的距离相等的磁道的集合。例如，如果一个驱动器有三个盘片和六个面。每个表面上的磁道的编号都是一致的，那么柱面ｋ就是６个磁道ｋ的集合。
<img alt="磁盘构造.png" src="磁盘构造.png"/></li></ul>

<h4>磁盘容量</h4>

<ul><li>一个磁盘上可以记录的最大位数成为它的最大容量，或者简称为容量。磁盘容量是有一下技术因素决定的。<ul><li>记录密度：磁道一英寸的段中可以放入的位数</li><li>磁道密度：从盘片中心出发半径上一英寸的段内可以有的磁道数。</li><li>面密度：记录密度与磁道密度的乘积</li></ul></li><li>磁盘制造商不懈的努力以提高密度(从而增加容量)，而面密度每隔几年就会翻倍，最初的磁盘，是在密度很低的时代设计的，将每个磁道分为数目相同的扇区，扇区的数目是有最靠内的磁道能记录的扇区数决定的，为了保持每个磁道有固定的扇区数，扇区的数目室友最靠内的磁道能记录的扇区数决定的。为了保持每个磁道有固定的扇区数，越往外的磁道扇区隔得越开。在面密度相对比较低的时候，这种方法还算合理。不过，随着面密度的提高，扇区之间的间隙(哪里没有存储数据位)变得不可接受地大。因此，现代大容量磁盘使用一种成为多区记录的基数，在这种技术中，柱面的集合被分割称不想交的自己和，称为记录区，每个区包含一组连续的柱面。一个区中的每个柱面中的每条磁道都有相同数量的扇区，这个扇区的数量是由该区中最里面的磁道所能包含的扇区数确定的。</li><li><p>下面的公式给出了一个磁盘的容量：</p><pre><code>磁盘容量＝字节数/扇区×平均扇区数/磁道×磁道数/表面×表面数/盘片×盘片数/磁盘</code></pre></li></ul>

<h4>磁盘操作</h4>

<ul><li>磁盘用读/写头来读写存储在磁性表面的位，而读写头连接到一个传动臂一端，通过沿着半径轴前后移动这个传动臂，驱动器可以将读/写头定位在盘面上的任何刺刀上，这样的急切运动成为寻道。一旦读/写头定位到了期望的磁道上，那么磁道上的每个位通过它的下面是，读/写头可以感知到这个位的值(读该位)，也可以修改这个位的值(写该位)，有多个盘片的磁盘针对每个盘面都有一个独立的读/写头，如图所示，读写头垂直排列，一致行动。在任何时刻，所有的读写头都位于同一个柱面上。
<img alt="磁盘的动态特性.png" src="磁盘的动态特性.png"/></li><li>在传动臂末端的读写头在磁盘表面高度大约０．１微米出的一层薄薄的气垫上飞翔，速度大约为８０码。这可以比喻成将一座摩天大楼(442米)放倒。然后让它在距离地面２．５ｃｍ的高度上环绕地球飞行。绕地球一天只需要８秒钟！在这样晓得间隙里，盘面上一粒微小的灰尘都像巨石。如果读写头碰到了这样一块巨石，读写头会停下来，撞到盘面——所谓的读写头冲撞。为此，磁盘重视密封包装的。</li><li><p>磁盘一扇区大小的块来读写数据。对扇区的访问时间有三个主要的部分：寻道时间、旋转时间和传送时间。</p><ul><li>寻道时间：为了读取某个目标扇区的内容，传动臂首先将读写头定位刅包含目标的扇区的磁道上，移动传动臂所需的时间成为寻道时间。寻道时间Ｔseek依赖于读写有以前的位置和传动臂在盘面上移动的速度。现代驱动器中平均寻道时间是通过对几千次随机扇区的寻道求平均值来测量。通常为３～９ｍｓ。一次寻到的最大时间可以高达20ms。</li><li><p>旋转时间：一旦读写有定位到了期望的磁道，驱动器等待目标扇区的第一位旋转到读写头下。这个步骤的性能依赖于当读/写头到达目标扇区是盘面的位置以及磁盘的旋转速度。在最坏的情况下，读写头刚刚错过了目标扇区，必须等待磁盘转移政权。因此，最大旋转延迟是</p><p>T(Max)=1/RPM×60s、１min</p></li><li><p>传送时间：目标扇区的第一位位与读写头下时，驱动器就可以开始读或者写改善去的内容了。一个扇区的传送时间依赖于旋转速度和每条磁道的扇区数目。因此，我们可以粗略地估计一个扇区以秒为单位的平均传送时间如下;</p><p>Ｔ(avg)=1/RPM×1/(平均扇区数/磁道)×60s/1min</p></li><li>我们可以估计访问一个磁盘扇区内容的平均时间为平均寻道时间、平均旋转延迟和平均传送时间之和，</li><li>一个很重要的问题：<ul><li>访问一个磁盘扇区中５１２个字节的时间主要是寻道时间和旋转延迟。方文山区中的第一个字节用了很长时间，但是访问剩下的字节几乎不用时间。</li><li>因为寻到时间和旋转延迟大致相等，所以将寻到时间乘２是估计磁盘访问时间的简单而合理的办法。</li><li>对存储在ＳＲＡＭ中的一个６４为字的访问时间大约是４ｎｓ，对ＤＲＡＭ的访问时间是６０ｎｓ，因此，从内存中读一个５１２个字节扇区大小的块的时间对ＳＲＡＭ来说大约是２５６ｎｓ，对ＤＲＡＭ来说大约是４０００ｎｓ。磁盘访问时间，大约是１０ｍｓ，是SRAM大约４００００倍，是ＤＲＡＭ的大约２５００倍。</li></ul></li></ul></li></ul>

<h4>逻辑磁盘块</h4>

<ul><li>正如我们看到的那样，现代磁盘构造复杂，有多个盘面，这些盘面有不同的记录取。为了对操作系统隐藏这样的复杂性，现代磁盘将它们的构造呈现为一个简单的视图。</li><li>一个Ｂ个扇区大小的逻辑块的序列，编号为０，１，。。。，Ｂ－１。磁盘封装中有一个小的硬件设备，成为磁盘控制器，维护这逻辑块和实际磁盘扇区之间的映射关系，当操作系统想要执行一个Ｉ/Ｏ操作是，例如读一个磁盘扇区的数据到主存，操作系统会发送一个命令到磁盘控制器，让它读某个逻辑块号。控制器上的固件执行一个快速表查询，讲一个逻辑块号翻译成一个（盘面，磁道，扇区）的三元组，这个三元组唯一的表示了对应的物理扇区。控制器上的硬件会解释这个三元组，将读写头移动到适当的柱面，等待扇区移动到读/写头选，将读写头感知到的位放到控制器上的一个小缓冲取中，然后将他们复制到主存中。</li></ul>

<h4>连接ＩＯ设备</h4>

<ul><li>例如图形卡、监视器、鼠标、键盘和磁盘这样的输入输出设备，都是通过ＩＯ总线，例如Ｉｎｔｅｌ的外围设备互联总线连接诶到ＣＰＵ和贮存的。系统总线和内存总线食欲ＣＰＵ相关的，与他们不同，注入ＰＣＩ这样的ＩＯ总线设计成与底层ＣＰＵ无关。例如，ＰＣ和ＭＡＣ都可以使用ＰＣＩ总线。</li><li>虽然ＩＯ总线比系统总线和内存总线慢，但是它可以容纳种类繁多的第三方ＩＯ设备。<ul><li>通用串行总线控制器是一个连接到ＵＳＢ总线的设备的中转机构，ＵＳＢ总线是一个广泛使用的标准，连接诶各种外围ＩＯ设备，包括键盘、鼠标、调制解调器、数码相机、游戏操纵杆、打印机、外部磁盘驱动器和固态硬盘。ＵＳＢ３.0总线的最大带宽为６２５MB/S,USB3.1最大带宽为１２５０MB/S.</li><li>图形卡(或适配器)包含硬件和软件逻辑，他们负责代表ＣＰＵ在显示器上画像素。</li><li>主机总线适配器将一个或多个磁盘连接到ＩＯ总线，使用的是一个贴别的主机总线接口定义的通信协议。两个最常用的这样的磁盘接口是ＳＣＳＩ和ＳＡＴＡ。ＳＣＳＩ主机总线适配器可以支持多个磁盘驱动器，与ＳＡＴＡ适配器不同，它能支持一个驱动器。
<img alt="总线结构示例.png" src="总线结构示例.png"/></li></ul></li><li>其他的设备例如网络适配器，可以通过将适配器插入到主板上空的扩展槽中，从而连接到ＩＯ总线，这些插槽提供了到总线的直接电路连接。</li></ul>

<h4>访问磁盘</h4>

<ul><li>ＣＰＵ使用一种成为内存映射ＩＯ的技术来向ＩＯ设备发射命令。在使用内存映射ＩＯ的系统中，地址空间中有一块地址是为与ＩＯ设备通信保留的。每个这样的地址称为一个ＩＯ端口，当一个设备连接到总线时，他与一个或多个端口相关联(或它被映射到一个或多个端口)。
<img alt="读一个磁盘扇区.png" src="读一个磁盘扇区.png"/></li><li>在磁盘控制器收到来自ＣＰＵ的读命令之后，他讲逻辑块好翻译成一个扇区地址，读该扇区的内容，然后将这些内容直接传送到主存，不需要ＣＰＵ的寒舍。设备可以自己执行读或者写总线事务而不需要ＣＰＵ干涉的过程，成为直接内存访问。这种数据传送成为DMA传送。</li><li>在ＤＭＡ传送完成，磁盘扇区的内容会被安全地存储在驻村中以后，磁盘控制器通过给ＣＰＵ发送一个中断信号来通知ＣＰＵ，基本思想是终端挥发信号到ＣＰＵ芯片的一个外部引脚上。这会导致ＣＰＵ暂停它当前正在做的工作，跳转到一个操作系统例程，这个程序会记录下ＩＯ已经完成，然后将控制返回到ＣＰＵ被中断的地方</li></ul>

<h2>固态硬盘</h2>

<ul><li>固态硬盘是一种基于闪存的存储技术，在某些情况下是传统旋转磁盘的极有吸引力的替代产品。如图展示了它的基本思想。ＳＳＤ封装插到ＩＯ总线爱上标准硬盘插槽，行为就和其他硬盘一样，处理来自ＣＰＵ的读写逻辑磁盘快的请求，一个ＳＳＤ封装由一个或多个闪存芯片和闪存翻译层组成，闪存芯片代替传统旋转磁盘中的及其驱动器，而闪存翻译曾是一个硬件/固件设备，扮演与磁盘控制器相同的角色，将对逻辑块的请求翻译成对底层物理设备的访问。
<img alt="固态硬盘.png" src="固态硬盘.png"/></li><li>途中展示了典型ＳＳＤ的心梗特征。注意，读ＳＳＤ要比写快。随机渡河写的性能差别室友底层闪存基本属性决定的。一个闪存由Ｂ个块的序列组成，每个块由Ｐ列组成。通常嘎哈那个，页的大小是５１２字节～４ｋｂ，快室友３２～１２８页组成的，快的大小为１６～５１２ｋｂ。数据是以页为单位读写的。只有在一页所属的块整个被擦除之后，才能写这一页（通常是指该快中的所有位置都被设置为１）。不过，一旦１一个块被擦出了，块中的每一个页都可以不需要在进行擦除就写一次。在大约进行１０００００次重复写之后，块就会磨损坏。一旦一个块莫损坏之后，就不能再使用了
<img alt="固态硬盘的性能特征.png" src="固态硬盘的性能特征.png"/></li><li>随机写很慢，有两个原因，擦除快需要相对较长的时间，１ｍｓ级的，比访问页所需要时间要搞一个数量级。其次，如果写操作试图修改一个包含已经有数据（也就是不是全为１）的页ｐ，那么这个块中所有带有用数据的页都必须被复制到一个新快，然后才能进行对页的写。制造商已经子啊闪存翻译层中实现了复杂的逻辑，试图低效擦鞋块的高昂代价，最小化内部写的次数，但是随机写的性能不太可能和读一样好。</li><li>比起旋转磁盘，ＳＳＤ有很多有点，他们有半导体存储器后塍，没有移动的不见，因而随机访问时间要比旋转磁盘要快，能耗更低，同时也更解释。不过，也有一些缺点。首先，因为反复写之后，内存块会磨损，所以ＳＳＤ页容易磨损。闪存翻译曾中的平均磨损逻辑试图通过将擦除平均分布在所有的块上来最大化每个块的寿命。实际上，平均磨损逻辑处理的很好，要很多年ＳＳＤ才会磨损。其次，ＳＳＤ梅子姐比旋转磁盘贵大约３０被，因此常用的存储容量比旋转磁盘小１００倍。</li></ul>

<h2>存储技术趋势</h2>

<ul><li>从我们对存储技术的讨论中，可以总结出几个很重要的思想：<ul><li>不同的存储技术有不同的性能和价格这种。ＳＲＡＭ要比ＤＲＡＭ快一点，而ＤＲＡＭ要比磁盘快得多。另一方面，快速存储总是比慢速存储要贵的。ＳＲＡＭ每字节造价比ＤＲＡＭ高，ＤＲＡＭ的造价有比磁盘高很多。ＳＳＤ位于ＤＲＡＭ和旋转磁盘之间。</li><li>不同存储技术的价格和性能属性以截然不同的速率变化着，图中总结了从１９８５年以来的存储基数的价格和性能属性，那是第一台ＰＣ刚发明不就。这些数字是从以前的商业杂志中和ＷＥＢ挑选出来的。虽然他们是从非正式的调查中得到的，但是这些数字还是能揭示出一些有趣的趋势。</li><li>自从１９８５年来，ＳＲＡＭ技术的成本和性能基本上是以相同的速度改善的。访问时间和每兆字节成本下降了大约１００被。不过，ＤＲＡＭ和磁盘变化趋势更大，而且更不一致，ＤＲＡＭ每兆字节成本４４０００倍，而ＤＲＡＭ的访问时间只下降了１０倍，磁盘技术有和ＤＲＡＭ相同的趋势，甚至变化更大。从１９８５年以来，磁盘存储的每兆字节成本暴跌了３００００００倍，但是访问时间提高的很慢，只有２５倍左右。这些惊人的长期趋势突出了内存和磁盘技术的一个基本事实：增加密度从而降低成本比降低访问时间容易的多。</li><li>ＤＲＡＭ和磁盘的性能滞后于ＣＰＵ性能，正如我们在图中看到的那样，从１９８５年到２０１０年，ＣＰＵ周期时间提高了５００倍，如果我们看有效周期时间——我们定义一个单独的单独的ＣＰＵ的周期时间除以它的处理器核数——那么从１９８５年到２０１０年的提高还是要大一点，为２０００倍，
<img alt="CPU趋势.png" src="CPU趋势.png"/></li></ul></li><li>虽然ＳＲＡＭ的性能之后与ＣＰＵ的性能，但还是在保持增长。不够，ＤＲＡＭ和磁盘性能与ＣＰＵ性能之间的差距实际上实在加大的，知道２００３年左右多核处理器的出现，这个性能差距都是延迟的函数，ＤＲＡＭ和磁盘的访问时间比单个处理器的周期时间提高得更慢。不过随着多核处理器的出现，这个性能越来越成为了吞吐量的函数，多个处理器核并发地向ＤＲＡＭ和磁盘发送请求。</li></ul>



    



<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/post/" title="Posts"> <i class="fa fa-chevron-left"></i></a>
		
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1557742112"></script>
    <script src="/js/perfect-scrollbar.min.js?1557742112"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1557742112"></script>
    <script src="/js/jquery.sticky.js?1557742112"></script>
    <script src="/js/featherlight.min.js?1557742112"></script>
    <script src="/js/html5shiv-printshiv.min.js?1557742112"></script>
    <script src="/js/highlight.pack.js?1557742112"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1557742112"></script>
    <script src="/js/learn.js?1557742112"></script>
    <script src="/js/hugo-learn.js?1557742112"></script>

    <link href="/mermaid/mermaid.css?1557742112" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1557742112"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

